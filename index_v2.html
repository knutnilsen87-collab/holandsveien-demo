<!DOCTYPE html>
<html lang="nb">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Holandsveien ‚Äì moderne hjem i gr√∏nne omgivelser</title>
  <meta name="description" content="20 nye 3- og 4-roms leiligheter i Holandsveien, Gre√•kerdalen. Moderne standard, flotte uteomr√•der og kort vei til Sarpsborg sentrum." />
  <link rel="preload" as="image" href="bilder/Hero.webp" />
  <link rel="stylesheet" href="style_v2.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ApartmentComplex",
    "name": "Holandsveien",
    "description": "Nye 3- og 4-roms selveierleiligheter i Holandsveien, Gre√•kerdalen, Sarpsborg.",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Holandsveien 37‚Äì75",
      "addressLocality": "Sarpsborg",
      "addressCountry": "NO"
    },
    "numberOfRoomsTotal": 20
  }
  </script>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">Holandsveien</div>
      <nav class="main-nav">
        <a href="#prosjekt" class="nav-link">Prosjekt</a>
        <a href="#hvorfor" class="nav-link">Hvorfor her?</a>
        <a href="#boligvelger" class="nav-link">Boligvelger</a>
        <a href="#beliggenhet" class="nav-link">Beliggenhet</a>
        <a href="#faq" class="nav-link">Sp√∏rsm√•l og svar</a>
        <a href="#kontakt" class="nav-link nav-cta">Kontakt</a>
      </nav>
      <button class="nav-toggle" type="button" aria-label="√Öpne meny">
        <span></span><span></span><span></span>
      </button>
    </div>
    <div class="mobile-nav" id="mobileNav">
      <nav>
        <a href="#prosjekt" class="nav-link">Prosjekt</a>
        <a href="#hvorfor" class="nav-link">Hvorfor her?</a>
        <a href="#boligvelger" class="nav-link">Boligvelger</a>
        <a href="#beliggenhet" class="nav-link">Beliggenhet</a>
        <a href="#faq" class="nav-link">Sp√∏rsm√•l og svar</a>
        <a href="#kontakt" class="nav-link">Kontakt</a>
      </nav>
    </div>
    <div class="nav-overlay" id="navOverlay"></div>
  </header>

  <main>
    <section class="hero section-observe" id="top">
      <div class="hero-media">
        <img src="bilder/Hero.webp" alt="Illustrasjon av Holandsveien boligprosjekt" class="hero-img" loading="eager" />
      </div>
      <div class="hero-overlay"></div>
      <div class="container hero-content">
        <div class="hero-card">
          <p class="hero-tagline">Gre√•kerdalen ¬∑ Sarpsborg</p>
          <h1>Nye hjem med naturen som n√¶rmeste nabo</h1>
          <h2 class="hero-subtitle">Selveierleiligheter med lys, utsikt og gr√∏nne omgivelser</h2>
          <p class="hero-sub">
            20 nye 3- og 4-roms selveierleiligheter med gjennomtenkte planl√∏sninger, gode solforhold og private uteplasser.
          </p>
          <ul class="hero-badges">
            <li>20 nye boliger</li>
            <li>Estimert ferdigstillelse: 2026 (forel√∏pig)</li>
            <li>Parkering og sportsbod inkl.</li>
          </ul>
          <div class="hero-meta">
            <div>
              <span class="meta-label">Pris</span>
              <span class="meta-value">2 990 000 ‚Äì 3 490 000 kr</span>
            </div>
            <div>
              <span class="meta-label">St√∏rrelser</span>
              <span class="meta-value">ca. 66‚Äì67,5 m¬≤ BRA</span>
            </div>
            <div>
              <span class="meta-label">Antall boliger</span>
              <span class="meta-value">20 selveierleiligheter</span>
            </div>
          </div>
          <div class="hero-actions">
            <a href="#kontakt" class="btn primary hero-cta">Meld interesse</a>
            <a href="#boligvelger" class="btn secondary">Utforsk leilighetene</a>
            <button type="button" class="btn tertiary" id="openGalleryBtn">Se galleri i fullskjerm</button>
          </div>
          <p class="hero-contact">
            Ring Raymond direkte: <a href="tel:+4799000717">99 00 07 17</a>
          </p>
          <button type="button" class="solstudie-btn">
            ‚òÄ Se hvordan solen treffer prosjektet (kommer)
          </button>
        </div>
      </div>
    </section>

    <section id="prosjekt" class="section section-observe">
      <div class="container two-column">
        <div>
          <h2>Om prosjektet</h2>
          <p>
            Holandsveien best√•r av 20 arealeffektive leiligheter fordelt p√• fem firemannsboliger
            i rolige og gr√∏nne omgivelser i Gre√•kerdalen. Her bor du landlig, men fortsatt med
            kort vei til Sarpsborg sentrum, servicetilbud og kollektivtransport.
          </p>
          <p>
            Leilighetene har lys og moderne innredning, gode lysforhold og private uteplasser.
            I f√∏rste etasje f√•r du markterrasse og hageflekk, mens leilighetene i andre etasje
            har balkong ‚Äì flere med utsikt mot gr√∏nne omr√•der.
          </p>
        </div>
        <aside class="highlight-box">
          <h3>Dette f√•r du</h3>
          <ul>
            <li>20 nye 3- og 4-roms selveierleiligheter</li>
            <li>Hage/terrasse i 1. etasje, balkong i 2. etasje</li>
            <li>Parkering og sportsbod til hver leilighet</li>
            <li>Balansert ventilasjon og 3-lags vinduer</li>
            <li>Kvalitetskj√∏kken og bad med tilvalgsmuligheter</li>
          </ul>
        </aside>
      </div>
    </section>

    <section class="section alt section-observe" id="hvorfor">
      <div class="container">
        <h2>Hvorfor Holandsveien?</h2>
        <p class="section-intro">
          Prosjektet kombinerer rolig, gr√∏nn beliggenhet med moderne standard og smarte planl√∏sninger.
        </p>
        <div class="card-grid card-grid-icons">
          <article class="card">
            <h3>Landlig, men sentralt</h3>
            <p>
              Kort vei til Sarpsborg sentrum, handel, skole og barnehage ‚Äì samtidig som du bor stille og skjermet.
            </p>
          </article>
          <article class="card">
            <h3>Moderne standard</h3>
            <p>
              Kj√∏kken og bad fra kvalitetsleverand√∏r, balansert ventilasjon, 3-lags vinduer og mulighet for tilvalg.
            </p>
          </article>
          <article class="card">
            <h3>Gode uteomr√•der</h3>
            <p>
              Hage og markterrasse i f√∏rste etasje, solrike balkonger i andre ‚Äì med gr√∏ntomr√•der og turstier like ved.
            </p>
          </article>
          <article class="card">
            <h3>Parkering og sportsbod</h3>
            <p>
              Prosjektet er planlagt med parkering til hver leilighet og egen sportsbod ‚Äì praktisk i hverdagen.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section id="boligvelger" class="section alt section-observe">
      <div class="container">
        <h2>Boligvelger</h2>
        <p class="section-intro">
          Filtrer og utforsk de ulike leilighetene. Oppdaterte priser og status finner du i salgsoppgaven
          ‚Äì denne oversikten er veiledende.
        </p>

        <div class="quick-filters">
          <button type="button" class="chip" data-q="3rom">3-rom</button>
          <button type="button" class="chip" data-q="4rom">4-rom</button>
          <button type="button" class="chip" data-q="prisLav">Pris fra lavest</button>
          <button type="button" class="chip" data-q="pop">Mest popul√¶re</button>
          <button type="button" class="chip" data-q="fav">Favoritter</button>
        </div>

        <p class="fav-summary" id="favSummary"></p>

        <button type="button" class="btn secondary filter-toggle" id="filterToggle">Filter</button>

        <div class="filters filters-sticky">
          <label>
            Rom
            <select id="romFilter">
              <option value="alle">Alle</option>
              <option value="3">3-rom</option>
              <option value="4">4-rom</option>
            </select>
          </label>
          <label>
            Etasje
            <select id="etasjeFilter">
              <option value="alle">Alle</option>
              <option value="1">1. etasje</option>
              <option value="2">2. etasje</option>
            </select>
          </label>
          <label>
            Status
            <select id="statusFilter">
              <option value="alle">Alle</option>
              <option value="Ledig">Ledig</option>
              <option value="Reservert">Reservert</option>
              <option value="Solgt">Solgt</option>
            </select>
          </label>
          <label>
            Min. pris
            <input type="number" id="minPris" placeholder="2900000" />
          </label>
          <label>
            Maks. pris
            <input type="number" id="maxPris" placeholder="3500000" />
          </label>
          <label>
            Sorter
            <select id="sortSelect">
              <option value="prisAsc">Pris stigende</option>
              <option value="prisDesc">Pris synkende</option>
              <option value="braAsc">St√∏rrelse stigende</option>
              <option value="braDesc">St√∏rrelse synkende</option>
            </select>
          </label>
        </div>

        <div class="table-wrapper">
          <table class="bolig-table" id="boligTable">
            <caption>Veiledende oversikt over leiligheter i Holandsveien</caption>
            <thead>
              <tr>
                <th>Fav</th>
                <th>Leil.nr</th>
                <th>Rom</th>
                <th>BRA</th>
                <th>Etasje</th>
                <th>Pris (kr)</th>
                <th>Status</th>
                <th>Sammenlikn</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <!-- fylles av JavaScript -->
            </tbody>
          </table>
        </div>

        <div class="compare-actions">
          <button type="button" class="btn secondary btn-compare" id="compareBtn">Sammenlikn valgte</button>
          <p class="note" id="boligUpdated">
            Sist oppdatert: <span>‚Äî</span>
          </p>
        </div>

        <p class="note">
          Merk: Priser og status kan endres. Se alltid salgsoppgave/megler for oppdatert informasjon.
        </p>

        <div class="mobile-inline-cta">
          <a href="#kontakt" class="btn primary">Kontakt megler om disse boligene</a>
        </div>
      </div>
    </section>

    <section id="beliggenhet" class="section section-observe">
      <div class="container two-column">
        <div>
          <h2>Beliggenhet</h2>
          <p>
            Holandsveien ligger i et etablert boligomr√•de med kort vei til b√•de natur og byliv.
            Turomr√•der, skole, barnehage og dagligvare ligger innen komfortabel avstand.
          </p>
          <ul class="icon-list">
            <li>Ca. 10 minutter med bil til Sarpsborg sentrum</li>
            <li>Gode turmuligheter i n√¶rliggende skogsomr√•der og ved Tunevannet</li>
            <li>Dagligvare og servicetilbud p√• Gre√•ker og Gr√•lum</li>
            <li>Skole og barnehage i n√¶romr√•det</li>
            <li>Bussforbindelse til sentrum og omegn</li>
          </ul>

          <div class="nabolag-fakta">
            <div class="nf-item nf-shop">
              <span class="nf-label">Til butikk</span>
              <span class="nf-value">ca. 400 m</span>
            </div>
            <div class="nf-item nf-school">
              <span class="nf-label">Til skole</span>
              <span class="nf-value">ca. 3 min</span>
            </div>
            <div class="nf-item nf-center">
              <span class="nf-label">Til sentrum</span>
              <span class="nf-value">ca. 10 min</span>
            </div>
            <div class="nf-item nf-bus">
              <span class="nf-label">Til buss</span>
              <span class="nf-value">ca. 2 min</span>
            </div>
          </div>
        </div>
        <div class="map-wrapper" aria-label="Kart Holandsveien 37‚Äì75">
          <iframe
            title="Holandsveien 37‚Äì75, Sarpsborg"
            data-src="https://www.google.com/maps?q=Holandsveien+37-75,+Sarpsborg&output=embed"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
          <a class="map-link" href="https://maps.google.com?q=Holandsveien+37-75,+Sarpsborg" target="_blank" rel="noopener">
            Vis i Google Maps
          </a>
        </div>
      </div>
    </section>

    <section id="okonomi" class="section alt section-observe">
      <div class="container">
        <h2>√òkonomi og felleskostnader</h2>
        <div class="card-grid">
          <article class="card">
            <h3>Felleskostnader (eksempel)</h3>
            <p>
              Felleskostnader dekker blant annet drift, forsikring, TV/bredb√•nd og avsetning til vedlikehold.
            </p>
            <p><strong>Eksempel:</strong> fra ca. 2 450 kr/mnd (se salgsoppgave for eksakte tall).</p>
          </article>
          <article class="card">
            <h3>M√•nedskostnad-kalkulator</h3>
            <form class="calc-form" id="calcForm">
              <label>
                Kj√∏pesum (kr)
                <input type="number" id="calcPris" placeholder="3 200 000" />
              </label>
              <label>
                Egenkapital (kr)
                <input type="number" id="calcEgenkapital" placeholder="800 000" />
              </label>
              <label>
                Rente (% p.a.)
                <input type="number" id="calcRente" placeholder="5" step="0.1" />
              </label>
              <label>
                Nedbetalingstid (√•r)
                <input type="number" id="calcAar" placeholder="30" />
              </label>
              <label>
                Felleskostnader pr. mnd (kr)
                <input type="number" id="calcFelles" placeholder="2 450" />
              </label>
              <button type="button" class="btn secondary" id="calcBtn">Beregn m√•nedskostnad</button>
              <p class="calc-result" id="calcResult"></p>
              <p class="form-note">For enkel oversikt ‚Äì bruk bankens kalkulator for eksakt tall.</p>
            </form>
          </article>
          <article class="card">
            <h3>Slik foreg√•r kj√∏pet</h3>
            <ol class="purchase-steps">
              <li>Ta kontakt med megler for salgsoppgave og informasjon.</li>
              <li>Avklar finansiering/budsjett med banken din.</li>
              <li>Reserv√©r √∏nsket leilighet og sign√©r kontrakt.</li>
              <li>Gjennomf√∏r tilvalg innen frister og overtakelse ved ferdigstillelse.</li>
            </ol>
          </article>
        </div>
      </div>
    </section>

    <section id="galleri" class="section section-observe">
      <div class="container">
        <h2>Galleri</h2>
        <p class="section-intro">
          Illustrasjoner som gir et inntrykk av arkitekturen, uteomr√•dene og interi√∏ret i Holandsveien.
        </p>
        <div class="gallery-grid">
          <img src="bilder/55024bdf-91fe-4353-83e6-52a38d0e5875.webp" data-full="bilder/55024bdf-91fe-4353-83e6-52a38d0e5875.webp" loading="lazy" alt="Interi√∏rillustrasjon stue i Holandsveien" />
          <img src="bilder/5b890790-45e7-418c-a21b-aadcec5d6566.webp" data-full="bilder/5b890790-45e7-418c-a21b-aadcec5d6566.webp" loading="lazy" alt="Interi√∏rillustrasjon kj√∏kken i Holandsveien" />
          <img src="bilder/Hero.webp" data-full="bilder/Hero.webp" loading="lazy" alt="Holandsveien fasadeillustrasjon" />
          <img src="bilder/030c023c-5a4a-42ec-b911-9aff0c0c1ccc.webp" data-full="bilder/030c023c-5a4a-42ec-b911-9aff0c0c1ccc.webp" loading="lazy" alt="Oversikt over boligene i Holandsveien" />
          <img src="bilder/114e3496-4a8a-4536-bea4-bcc6d46c39dc.webp" data-full="bilder/114e3496-4a8a-4536-bea4-bcc6d46c39dc.webp" loading="lazy" alt="Illustrasjon av boligrekke i Holandsveien" />
          <img src="bilder/39ea43f5-7e45-4cbc-94e9-3b7592a51f2a.webp" data-full="bilder/39ea43f5-7e45-4cbc-94e9-3b7592a51f2a.webp" loading="lazy" alt="Illustrasjon av uteomr√•de i Holandsveien" />
        </div>
        <p class="note">Illustrasjoner er ment som inspirasjon. Avvik kan forekomme.</p>
      </div>
    </section>

    <section id="hva-sier" class="section alt section-observe">
      <div class="container">
        <h2>Hva sier kj√∏perne?</h2>
        <p class="section-intro">
          Erfaringer fra kj√∏pere i lignende prosjekt viser hva som verdsettes mest.
        </p>
        <div class="card-grid">
          <article class="card testimonial-card">
            <p class="testimonial-quote">¬´Vi ville ha noe nytt, lettstelt og n√¶rt skog og turmuligheter ‚Äì akkurat det vi fikk.¬ª</p>
            <p class="testimonial-meta">Kj√∏per i tilsvarende prosjekt i omr√•det</p>
          </article>
          <article class="card testimonial-card">
            <p class="testimonial-quote">¬´Planl√∏sningen gj√∏r at leiligheten f√∏les st√∏rre enn tallene tilsier, med mye lys og gode soner.¬ª</p>
            <p class="testimonial-meta">F√∏rstegangskj√∏per</p>
          </article>
          <article class="card testimonial-card">
            <p class="testimonial-quote">¬´Vi ville ha parkering, sportsbod og et rolig bomilj√∏, men fortsatt kort vei til alt ‚Äì det fikk vi.¬ª</p>
            <p class="testimonial-meta">Sm√•barnsfamilie</p>
          </article>
        </div>
      </div>
    </section>

    <section id="faq" class="section alt section-observe">
      <div class="container">
        <h2>Sp√∏rsm√•l og svar</h2>
        <div class="faq-grid">
          <div class="faq-item">
            <button class="faq-header" type="button">
              <span>N√•r st√•r boligene ferdige?</span>
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-body">
              <p>
                Estimert ferdigstillelse fremg√•r av salgsoppgaven. Ta kontakt med megler for oppdatert informasjon
                om byggestart og overtakelse.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-header" type="button">
              <span>Kan jeg gj√∏re tilpasninger?</span>
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-body">
              <p>
                Det er normalt mulighet for tilvalg innenfor gitte frister. Ta kontakt med megler for
                √• h√∏re hvilke muligheter som gjelder for dette prosjektet.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-header" type="button">
              <span>Hvordan fungerer felleskostnadene?</span>
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-body">
              <p>
                Felleskostnader dekker blant annet drift, forsikring og TV/bredb√•nd. Full oversikt
                finner du i vedlegg til salgsoppgaven.
              </p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-header" type="button">
              <span>Er det parkering til hver leilighet?</span>
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-body">
              <p>
                Prosjektet er planlagt med parkering til hver leilighet. Se prospekt/vedlegg for detaljer
                og eventuelle gjesteplasser.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="kontakt" class="section contact-section section-observe">
      <div class="container two-column">
        <div>
          <h2>Kontakt megler</h2>
          <p>
            Ta kontakt for salgsoppgave, visning eller en uforpliktende prat om mulighetene i Holandsveien.
          </p>
          <div class="contact-card contact-card-profile">
            <div class="contact-media">
              <img src="bilder/raymond-bohn.jpg" alt="Raymond B√∏hn, eiendomsmegler" class="agent-photo" loading="lazy" />
              <img src="bilder/krogsveen-logo.png" alt="Krogsveen" class="brand-logo" loading="lazy" />
            </div>
            <div class="contact-info">
              <h3>Eiendomsmegler / Partner</h3>
              <p class="contact-name">Raymond B√∏hn</p>
              <p>Telefon: <a href="tel:+4799000717">99 00 07 17</a></p>
              <p>E-post: <a href="mailto:raymond.bohn@krogsveen.no">raymond.bohn@krogsveen.no</a></p>
            </div>
          </div>
        </div>
        <div>
          <h3>Meld interesse</h3>
          <form class="contact-form" id="interesseForm">
            <label>
              Navn
              <input type="text" name="navn" placeholder="Ditt fulle navn" required />
            </label>
            <label>
              E-post
              <input type="email" name="epost" placeholder="din@epost.no" required />
            </label>
            <label>
              Telefon
              <input type="tel" name="telefon" placeholder="Ditt telefonnummer" />
            </label>
            <label>
              √ònsket leilighet
              <input type="text" name="leilighet" id="valgtLeilighet" placeholder="F.eks. H203" />
            </label>
            <label>
              Melding
              <textarea name="melding" rows="4" placeholder="Fortell gjerne litt om hva du er interessert i."></textarea>
            </label>
            <p class="form-note">
              Skjemaet er en frontend-demo. Henvendelser sendes ikke videre f√∏r siden kobles til e-post eller CRM-l√∏sning.
            </p>
            <button type="submit" class="btn primary" id="sendBtn">Send</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>¬© Holandsveien. Alle rettigheter forbeholdt.</p>
      <p class="footer-meta">Nettside bygget med Front and backend Legend (FBL) V3.</p>
    </div>
  </footer>

  <div class="modal-backdrop" id="boligModal">
    <div class="modal">
      <button class="modal-close" type="button" aria-label="Lukk detaljvisning">&times;</button>
      <div class="modal-body">
        <h3 id="modalTitle">Leilighet</h3>
        <p id="modalInfo" class="modal-info"></p>
        <p id="modalPrice" class="modal-price"></p>
        <p id="modalPopularity" class="modal-popularity"></p>
        <div class="modal-tags" id="modalTags"></div>
        <img id="modalPlan" class="modal-plan" alt="" style="display:none;" />
        <p class="modal-note">
          Opplysningene er veiledende. For oppdaterte priser, tilvalg og leveranseomfang ‚Äì se salgsoppgave og kontakt megler.
        </p>
        <div class="modal-actions">
          <button class="btn primary" type="button" id="modalInterestBtn">Meld interesse for denne leiligheten</button>
          <a href="Holandsveien_prospekt.pdf" class="btn secondary" target="_blank" rel="noopener" id="modalPdfBtn">Last ned prospekt (PDF)</a>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="compareModal">
    <div class="modal">
      <button class="modal-close compare-close" type="button" aria-label="Lukk sammenlikning">&times;</button>
      <div class="modal-body compare-body">
        <h3>Sammenlikn leiligheter</h3>
        <p class="compare-note">Du kan sammenlikne inntil to leiligheter om gangen.</p>
        <div class="compare-grid" id="compareGrid"></div>
      </div>
    </div>
  </div>

  <div class="lightbox-backdrop" id="lightbox">
    <button class="lightbox-close" type="button" aria-label="Lukk bildesvisning">&times;</button>
    <img class="lightbox-img" id="lightboxImg" alt="" />
  </div>

  <div class="mobile-cta">
    <a href="#prosjekt" class="mobile-tab">Prosjekt</a>
    <a href="#boligvelger" class="mobile-tab">Boligvelger</a>
    <a href="#beliggenhet" class="mobile-tab">Beliggenhet</a>
    <a href="#kontakt" class="mobile-tab">Kontakt</a>
  </div>

  <button class="scroll-top" id="scrollTopBtn" type="button" aria-label="Til toppen">‚Üë</button>

  <script>
    const PROSPEKT_URL = "Holandsveien_prospekt.pdf";

    const boligData = [
      { id: "H101", rom: 3, bra: 66,   etasje: 1, pris: 2990000, status: "Ledig",     popularity: 2, plan: "" },
      { id: "H102", rom: 4, bra: 67.5, etasje: 1, pris: 3090000, status: "Ledig",     popularity: 3, plan: "" },
      { id: "H103", rom: 3, bra: 66,   etasje: 1, pris: 2990000, status: "Reservert", popularity: 4, plan: "" },
      { id: "H104", rom: 4, bra: 67.5, etasje: 1, pris: 3190000, status: "Ledig",     popularity: 1, plan: "" },
      { id: "H201", rom: 3, bra: 66,   etasje: 2, pris: 3290000, status: "Ledig",     popularity: 3, plan: "" },
      { id: "H202", rom: 4, bra: 67.5, etasje: 2, pris: 3390000, status: "Ledig",     popularity: 2, plan: "" },
      { id: "H203", rom: 3, bra: 66,   etasje: 2, pris: 3290000, status: "Reservert", popularity: 5, plan: "" },
      { id: "H204", rom: 4, bra: 67.5, etasje: 2, pris: 3490000, status: "Solgt",     popularity: 5, plan: "" }
    ];

    const FAVORITES_KEY = "holandsveien_favorites";

    function loadFavorites() {
      try {
        const raw = localStorage.getItem(FAVORITES_KEY);
        if (!raw) return [];
        const arr = JSON.parse(raw);
        return Array.isArray(arr) ? arr : [];
      } catch {
        return [];
      }
    }

    function saveFavorites(favs) {
      try {
        localStorage.setItem(FAVORITES_KEY, JSON.stringify(favs));
      } catch {}
    }

    let favorites = loadFavorites();

    function isFavorite(id) {
      return favorites.includes(id);
    }

    function toggleFavorite(id) {
      if (isFavorite(id)) {
        favorites = favorites.filter(f => f !== id);
      } else {
        favorites.push(id);
      }
      saveFavorites(favorites);
      updateFavSummary();
    }

    const romFilter     = document.getElementById("romFilter");
    const etasjeFilter  = document.getElementById("etasjeFilter");
    const statusFilter  = document.getElementById("statusFilter");
    const minPrisInput  = document.getElementById("minPris");
    const maxPrisInput  = document.getElementById("maxPris");
    const sortSelect    = document.getElementById("sortSelect");
    const boligTableTbody = document.querySelector("#boligTable tbody");
    const compareBtn    = document.getElementById("compareBtn");
    const favSummaryEl  = document.getElementById("favSummary");
    const filterToggle  = document.getElementById("filterToggle");
    const filtersSticky = document.querySelector(".filters-sticky");

    const modalBackdrop = document.getElementById("boligModal");
    const modalTitle    = document.getElementById("modalTitle");
    const modalInfo     = document.getElementById("modalInfo");
    const modalPrice    = document.getElementById("modalPrice");
    const modalPopularity = document.getElementById("modalPopularity");
    const modalPlan     = document.getElementById("modalPlan");
    const modalTags     = document.getElementById("modalTags");
    const modalCloseBtn = document.querySelector(".modal-close");
    const modalInterestBtn = document.getElementById("modalInterestBtn");
    const modalPdfBtn   = document.getElementById("modalPdfBtn");
    const valgtLeilighetInput = document.getElementById("valgtLeilighet");

    const compareModal  = document.getElementById("compareModal");
    const compareClose  = document.querySelector(".compare-close");
    const compareGrid   = document.getElementById("compareGrid");

    const lbBackdrop = document.getElementById("lightbox");
    const lbImg      = document.getElementById("lightboxImg");
    const galleryImages = document.querySelectorAll(".gallery-grid img");

    const heroSection = document.querySelector(".hero");
    const heroCard    = document.querySelector(".hero-card");
    const heroImg     = document.querySelector(".hero-img");
    const scrollTopBtn = document.getElementById("scrollTopBtn");
    const quickFilters = document.querySelector(".quick-filters");
    const openGalleryBtn = document.getElementById("openGalleryBtn");

    const navToggle   = document.querySelector(".nav-toggle");
    const mobileNav   = document.getElementById("mobileNav");
    const navOverlay  = document.getElementById("navOverlay");

    const calcForm    = document.getElementById("calcForm");
    const calcPris    = document.getElementById("calcPris");
    const calcEgen    = document.getElementById("calcEgenkapital");
    const calcRente   = document.getElementById("calcRente");
    const calcAar     = document.getElementById("calcAar");
    const calcFelles  = document.getElementById("calcFelles");
    const calcBtn     = document.getElementById("calcBtn");
    const calcResult  = document.getElementById("calcResult");

    let currentModalBoligId = null;

    function formatPrice(n) {
      return n.toLocaleString("nb-NO");
    }

    function updateFavSummary() {
      if (!favSummaryEl) return;
      const count = favorites.length;
      if (count === 0) {
        favSummaryEl.textContent = "Du har ingen favoritter enda. Trykk p√• ‚ô• ved leilighetene.";
      } else {
        favSummaryEl.textContent = `Favoritter: ${count} leilighet${count > 1 ? "er" : ""}. Bruk hurtigvalget ¬´Favoritter¬ª for √• filtrere.`;
      }
    }

    function renderTable(data, onlyFavorites = false) {
      boligTableTbody.innerHTML = "";
      data.forEach(b => {
        if (onlyFavorites && !isFavorite(b.id)) return;
        const isFav = isFavorite(b.id);
        const tr = document.createElement("tr");
        const rowClass =
          b.status === "Solgt" ? "row-solgt" :
          b.status === "Reservert" ? "row-reservert" : "";
        if (rowClass) tr.classList.add(rowClass);
        tr.innerHTML = `
          <td>
            <button type="button" class="fav-btn ${isFav ? "fav-active" : ""}" data-fav="${b.id}" aria-label="Favoritt ${b.id}">
              ‚ô•
            </button>
          </td>
          <td>
            <span class="bolig-id">${b.id}</span>
            ${b.status !== "Ledig" ? `<span class="status-icon" title="${b.status}">${b.status === "Solgt" ? "‚óè" : "‚óê"}</span>` : ""}
          </td>
          <td>${b.rom}</td>
          <td>${b.bra.toString().replace(".", ",")} m¬≤</td>
          <td>${b.etasje}</td>
          <td>${formatPrice(b.pris)}</td>
          <td><span class="status status-${b.status.toLowerCase()}">${b.status}</span></td>
          <td class="compare-cell">
            <input type="checkbox" class="compare-checkbox" data-id="${b.id}" aria-label="Velg ${b.id} for sammenlikning" />
          </td>
          <td>
            <button type="button" class="link-btn" data-id="${b.id}">Detaljer</button>
          </td>
        `;
        boligTableTbody.appendChild(tr);
      });
    }

    function getFilteredData() {
      const romVal = romFilter.value;
      const etasjeVal = etasjeFilter.value;
      const statusVal = statusFilter.value;
      const minPris = parseInt(minPrisInput.value.replace(/\s/g,"")) || null;
      const maxPris = parseInt(maxPrisInput.value.replace(/\s/g,"")) || null;
      const sortVal = sortSelect.value;

      let filtered = boligData.filter(b => {
        if (romVal !== "alle" && b.rom.toString() !== romVal) return false;
        if (etasjeVal !== "alle" && b.etasje.toString() !== etasjeVal) return false;
        if (statusVal !== "alle" && b.status !== statusVal) return false;
        if (minPris !== null && b.pris < minPris) return false;
        if (maxPris !== null && b.pris > maxPris) return false;
        return true;
      });

      filtered.sort((a, b) => {
        switch (sortVal) {
          case "prisAsc": return a.pris - b.pris;
          case "prisDesc": return b.pris - a.pris;
          case "braAsc": return a.bra - b.bra;
          case "braDesc": return b.bra - a.bra;
          default: return 0;
        }
      });

      return filtered;
    }

    let quickMode = null; // "fav" eller "pop"

    function applyFiltersAndSort() {
      const data = getFilteredData();
      const onlyFav = quickMode === "fav";
      let renderData = data;

      if (quickMode === "pop") {
        renderData = [...data].sort((a, b) => (b.popularity || 0) - (a.popularity || 0));
      }

      renderTable(renderData, onlyFav);
    }

    function buildTagsForBolig(b) {
      const tags = [];
      tags.push("üÖø Parkering");
      tags.push("üì¶ Sportsbod");
      if (b.etasje === 1) tags.push("üåø Markterrasse");
      if (b.etasje === 2) tags.push("üå§ Balkong");
      tags.push("üë£ N√¶rt natur og turomr√•der");
      return tags;
    }

    function openModal(boligId) {
      const bolig = boligData.find(b => b.id === boligId);
      if (!bolig) return;
      currentModalBoligId = boligId;
      modalTitle.textContent = "Leilighet " + bolig.id;
      modalInfo.textContent = bolig.rom + "-roms leilighet p√• " + bolig.bra.toString().replace(".", ",") + " m¬≤ BRA i " + bolig.etasje + ". etasje.";
      modalPrice.textContent = "Veiledende pris: " + formatPrice(bolig.pris) + " kr (" + bolig.status + ").";

      const sameType = boligData.filter(b => b.rom === bolig.rom && (b.status === "Reservert" || b.status === "Solgt"));
      if (sameType.length >= 2) {
        modalPopularity.textContent = "Dette er en popul√¶r leilighetstype ‚Äì flere er allerede reservert/solgt.";
      } else {
        modalPopularity.textContent = "";
      }

      modalTags.innerHTML = "";
      const tags = buildTagsForBolig(bolig);
      tags.forEach(t => {
        const span = document.createElement("span");
        span.className = "modal-tag";
        span.textContent = t;
        modalTags.appendChild(span);
      });

      if (bolig.plan) {
        modalPlan.src = bolig.plan;
        modalPlan.alt = "Plantegning for leilighet " + bolig.id;
        modalPlan.style.display = "block";
      } else {
        modalPlan.src = "";
        modalPlan.style.display = "none";
      }

      if (modalPdfBtn) {
        modalPdfBtn.href = PROSPEKT_URL;
      }

      modalBackdrop.classList.add("visible");
    }

    function closeModal() {
      modalBackdrop.classList.remove("visible");
      currentModalBoligId = null;
    }

    function openCompareModal(selectedIds) {
      compareGrid.innerHTML = "";
      const items = boligData.filter(b => selectedIds.includes(b.id));
      items.forEach(b => {
        const col = document.createElement("div");
        col.className = "compare-col";
        col.innerHTML = `
          <h4>${b.id}</h4>
          <ul>
            <li><strong>Rom:</strong> ${b.rom}</li>
            <li><strong>BRA:</strong> ${b.bra.toString().replace(".", ",")} m¬≤</li>
            <li><strong>Etasje:</strong> ${b.etasje}</li>
            <li><strong>Pris:</strong> ${formatPrice(b.pris)} kr</li>
            <li><strong>Status:</strong> ${b.status}</li>
          </ul>
        `;
        compareGrid.appendChild(col);
      });
      compareModal.classList.add("visible");
    }

    function closeCompareModal() {
      compareModal.classList.remove("visible");
    }

    romFilter.addEventListener("change", () => { quickMode = null; applyFiltersAndSort(); });
    etasjeFilter.addEventListener("change", () => { quickMode = null; applyFiltersAndSort(); });
    statusFilter.addEventListener("change", () => { quickMode = null; applyFiltersAndSort(); });
    minPrisInput.addEventListener("input", () => { quickMode = null; applyFiltersAndSort(); });
    maxPrisInput.addEventListener("input", () => { quickMode = null; applyFiltersAndSort(); });
    sortSelect.addEventListener("change", () => { quickMode = null; applyFiltersAndSort(); });

    if (quickFilters) {
      quickFilters.addEventListener("click", (e) => {
        const btn = e.target.closest("[data-q]");
        if (!btn) return;
        const q = btn.dataset.q;
        quickMode = null;
        switch (q) {
          case "3rom":
            romFilter.value = "3";
            break;
          case "4rom":
            romFilter.value = "4";
            break;
          case "prisLav":
            sortSelect.value = "prisAsc";
            break;
          case "pop":
            quickMode = "pop";
            break;
          case "fav":
            quickMode = "fav";
            break;
        }
        applyFiltersAndSort();
      });
    }

    boligTableTbody.addEventListener("click", (e) => {
      const favBtn = e.target.closest("button[data-fav]");
      if (favBtn) {
        const id = favBtn.dataset.fav;
        toggleFavorite(id);
        applyFiltersAndSort();
        return;
      }
      const btn = e.target.closest("button[data-id]");
      if (!btn) return;
      openModal(btn.dataset.id);
    });

    if (compareBtn) {
      compareBtn.addEventListener("click", () => {
        const checks = boligTableTbody.querySelectorAll(".compare-checkbox:checked");
        const ids = Array.from(checks).map(c => c.dataset.id);
        if (ids.length === 0) {
          alert("Velg minst √©n leilighet for √• sammenlikne.");
          return;
        }
        if (ids.length > 2) {
          alert("Velg maks to leiligheter om gangen for sammenlikning.");
          return;
        }
        openCompareModal(ids);
      });
    }

    modalCloseBtn.addEventListener("click", closeModal);
    modalBackdrop.addEventListener("click", (e) => {
      if (e.target === modalBackdrop) closeModal();
    });

    compareClose.addEventListener("click", closeCompareModal);
    compareModal.addEventListener("click", (e) => {
      if (e.target === compareModal) closeCompareModal();
    });

    modalInterestBtn.addEventListener("click", () => {
      if (currentModalBoligId && valgtLeilighetInput) {
        valgtLeilighetInput.value = currentModalBoligId;
        window.location.hash = "#kontakt";
      }
      closeModal();
    });

    const updatedEl = document.getElementById("boligUpdated")?.querySelector("span");
    if (updatedEl) {
      const d = new Date();
      const formatter = new Intl.DateTimeFormat("nb-NO", { day: "2-digit", month: "long", year: "numeric" });
      updatedEl.textContent = formatter.format(d);
    }

    // Lightbox + swipe
    let currentGalleryIndex = 0;
    const galleryArray = Array.from(galleryImages);

    function openLightboxByIndex(idx) {
      if (idx < 0 || idx >= galleryArray.length) return;
      currentGalleryIndex = idx;
      const img = galleryArray[idx];
      const full = img.dataset.full || img.src;
      lbImg.src = full;
      lbImg.alt = img.alt || "";
      lbBackdrop.classList.add("visible");
    }

    galleryArray.forEach((img, index) => {
      img.addEventListener("click", ()        openLightboxByIndex(index);
      });
    });

    document.querySelector(".lightbox-close")?.addEventListener("click", () => {
      lbBackdrop.classList.remove("visible");
      lbImg.src = "";
    });

    lbBackdrop.addEventListener("click", (e) => {
      if (e.target === lbBackdrop) {
        lbBackdrop.classList.remove("visible");
        lbImg.src = "";
      }
    });

    if (openGalleryBtn) {
      openGalleryBtn.addEventListener("click", () => {
        openLightboxByIndex(0);
      });
    }

    let touchStartX = 0;
    let touchEndX = 0;

    lbBackdrop.addEventListener("touchstart", (e) => {
      if (!lbBackdrop.classList.contains("visible")) return;
      touchStartX = e.changedTouches[0].screenX;
    });

    lbBackdrop.addEventListener("touchend", (e) => {
      if (!lbBackdrop.classList.contains("visible")) return;
      touchEndX = e.changedTouches[0].screenX;
      const dx = touchEndX - touchStartX;
      const threshold = 50;
      if (Math.abs(dx) > threshold) {
        if (dx < 0) {
          const nextIndex = (currentGalleryIndex + 1) % galleryArray.length;
          openLightboxByIndex(nextIndex);
        } else {
          const prevIndex = (currentGalleryIndex - 1 + galleryArray.length) % galleryArray.length;
          openLightboxByIndex(prevIndex);
        }
      }
    });

    // Hero parallax (kort + bakgrunnsbilde)
    if (heroSection && heroCard && heroImg) {
      heroSection.addEventListener("mousemove", (e) => {
        const rect = heroSection.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width - 0.5;
        const y = (e.clientY - rect.top) / rect.height - 0.5;
        const cardMoveX = x * 6;
        const cardMoveY = y * 6;
        const bgMoveX = x * 8;
        const bgMoveY = y * 8;
        heroCard.style.transform = `translate3d(${cardMoveX}px, ${cardMoveY + 0}px, 0)`;
        heroImg.style.transform = `scale(1.04) translate3d(${bgMoveX}px, ${bgMoveY}px, 0)`;
      });
      heroSection.addEventListener("mouseleave", () => {
        heroCard.style.transform = "translate3d(0, 0, 0)";
        heroImg.style.transform = "scale(1.02) translate3d(0, 0, 0)";
      });
    }

    // Seksjons fade-in
    const observedSections = document.querySelectorAll(".section-observe");
    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("section-in-view");
          sectionObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12 });

    observedSections.forEach(sec => sectionObserver.observe(sec));

    // Lazy-load kart iframe ved scroll
    const mapIframe = document.querySelector(".map-wrapper iframe[data-src]");
    if (mapIframe) {
      const mapObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const src = mapIframe.getAttribute("data-src");
            if (src && !mapIframe.src) {
              mapIframe.src = src;
            }
            mapObserver.unobserve(mapIframe);
          }
        });
      }, { threshold: 0.1 });
      mapObserver.observe(mapIframe);
    }

    // Scroll-to-top
    window.addEventListener("scroll", () => {
      if (window.scrollY > 300) {
        scrollTopBtn.classList.add("visible");
      } else {
        scrollTopBtn.classList.remove("visible");
      }
    });

    scrollTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Mobil filter-drawer
    if (filterToggle && filtersSticky) {
      filterToggle.addEventListener("click", () => {
        filtersSticky.classList.toggle("open");
      });
    }

    // FAQ accordion
    document.querySelectorAll(".faq-item").forEach(item => {
      const header = item.querySelector(".faq-header");
      const body = item.querySelector(".faq-body");
      const icon = item.querySelector(".faq-icon");
      if (!header || !body) return;
      header.addEventListener("click", () => {
        const isOpen = item.classList.toggle("open");
        body.style.maxHeight = isOpen ? body.scrollHeight + "px" : "0px";
        if (icon) icon.textContent = isOpen ? "‚àí" : "+";
      });
      body.style.maxHeight = "0px";
    });

    // Enkel form-h√•ndtering (demo)
    const interesseForm = document.getElementById("interesseForm");
    const sendBtn = document.getElementById("sendBtn");
    if (interesseForm && sendBtn) {
      interesseForm.addEventListener("submit", (e) => {
        e.preventDefault();
        alert("Skjemaet er en demo. For faktisk innsending m√• det kobles til e-post eller CRM.");
      });
    }

    // M√•nedskostnad-kalkulator
    if (calcBtn && calcPris && calcEgen && calcRente && calcAar && calcFelles && calcResult) {
      calcBtn.addEventListener("click", () => {
        const pris = parseFloat((calcPris.value || "").replace(/\s/g,"")) || 0;
        const egen = parseFloat((calcEgen.value || "").replace(/\s/g,"")) || 0;
        const renteProsent = parseFloat((calcRente.value || "0").replace(",", ".")) || 0;
        const aar = parseFloat(calcAar.value) || 30;
        const felles = parseFloat((calcFelles.value || "").replace(/\s/g,"")) || 0;

        const lan = Math.max(pris - egen, 0);
        const rMnd = renteProsent / 100 / 12;
        const n = aar * 12;
        let termin = 0;
        if (rMnd > 0 && n > 0) {
          termin = lan * (rMnd * Math.pow(1 + rMnd, n)) / (Math.pow(1 + rMnd, n) - 1);
        } else if (n > 0) {
          termin = lan / n;
        }
        const total = termin + felles;
        calcResult.textContent = `Ansl√•tt m√•nedskostnad: ca. ${Math.round(total).toLocaleString("nb-NO")} kr (inkl. felleskostnader).`;
      });
    }

    // Mobilmeny
    function closeNav() {
      mobileNav.classList.remove("open");
      navOverlay.classList.remove("visible");
      navToggle.classList.remove("open");
    }

    if (navToggle && mobileNav && navOverlay) {
      navToggle.addEventListener("click", () => {
        const open = !mobileNav.classList.contains("open");
        if (open) {
          mobileNav.classList.add("open");
          navOverlay.classList.add("visible");
          navToggle.classList.add("open");
        } else {
          closeNav();
        }
      });

      navOverlay.addEventListener("click", closeNav);

      mobileNav.addEventListener("click", (e) => {
        if (e.target.matches("a.nav-link")) {
          closeNav();
        }
      });
    }

    // Scrollspy for hovednav + mobilnav + mobil-tabs
    const sections = document.querySelectorAll("main section[id]");
    const navLinks = document.querySelectorAll(".main-nav a.nav-link, .mobile-nav a.nav-link, .mobile-cta a.mobile-tab");

    const spyObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const id = entry.target.getAttribute("id");
        if (!id) return;
        navLinks.forEach(link => {
          if (link.getAttribute("href") === "#" + id) {
            link.classList.add("active");
          } else {
            link.classList.remove("active");
          }
        });
      });
    }, { threshold: 0.4 });

    sections.forEach(sec => spyObserver.observe(sec));

    document.addEventListener("DOMContentLoaded", () => {
      updateFavSummary();
      applyFiltersAndSort();
    });

    updateFavSummary();
    applyFiltersAndSort();
  </script>
</body>
</html>
